language: java
before_script:
  - git clone https://github.com/SecureTrading/js-payments
  - cd js-payments
  - git checkout feature/ST-88-behavioural-ci # TODO change back to develop once this branch has been completed
  - npm install -g npm@latest
  - npm install
  - npm run prod
  - npm run server
jobs:
  include:
    - stage: "Test"
      name: "Behavioural test: chrome 68"
      script: make test_chrome_68_w10
    - name: "Behavioural test: firefox 61"
      script: make test_firefox_61_w10
    - name: "Behavioural test: edge 17"
      script: make test_edge_17_w10
    - name: "Behavioural test: ie 9"
      script: make test_ie_9_w7
    - name: "Behavioural test: ie 10"
      script: make test_ie_10_w8
    - name: "Behavioural test: ie 11"
      script: make test_ie_11_w8
    - name: "Behavioural test: safari 11"
      script: make test_safari_11_osxhs
env:
  global:
    - secure: W2PyTAfqcVokPJpBv9hoduC4ZmOG/TISs0BkzCFt7DnUNNGJoL8PiN4HTFWBbJqKmyzkEyejEQ/T54u1UQqZcrLZnIcl2Q99gOQQ508YB1zyq5hElHDQDsAh63+h1aHWTOK0C2qa/eLMISaGX1JQwQj5XkQ/wSxrh37ds6Hn6ILZVBv9drpWGRr2ql0SX1s7fxJa8KIGz4XY88t/3cD7PzFjLlC1rBzAih275m7acDv7XtTtc6XfuR+es1XR7Ti142c+q3tNGSqijSNCUcSCQktL4rx0Nwiw9WjYEPT1BdhBsVhzKCJDLnZEq4BOsZuKFU/RtRIiIb/+ytwsB4T+yjxd4cNo0IDttDHDZW0Pb+Z7UAJv5V6i19cTZxMdtx6ArnEH03+h7XGweiwBZuF/+UzdNXANy1HyRhxi9akoWofZeAN2/RERW/Trr1FOHbBsBB+il1DTSdIQ6gZZrfwUy91CJQNGKhCrfKGrMYfVJwVv6iTzr4pMuQ0rGgwJ2np5rcO3986k+H4twNEtWXrfd62rb6qWQ71Rwz7Im8tYpRerTR2M8cYkisw/ylnVqNp+xE254e56dbdWGyj4Q0nHaOvyjdiwU25K2Mm4vnS7bwDBrrrsY8o+5gFC5XWzhDhnHEbksF+0F2LK84HAFPrSFSFAWxcIlXYaLFp6/dJUBxc= # BS_USERNAME
    - secure: LS9Zh/tdjtFVnjKib90hR30YhJId+OGkTeOwDM0Bt7a8As7d6O3dyr+37ytFkA0nh4oaY3PZX6vV/FO1KyvlPDY2DC59PZvI6U0Io5odyNCf0Th+pXwRU1LyGQhPkRuDx5QIJZX6H7qfyxpc7+ZJs+QHXS8LReFK5zKat2LUs5gVE8tcHLBVWyU3wS8Nyvwrt3PjYnEPv70dAF53YYEscVGBRU9/pNyA9BWF/7BJL1fRjfYx5Vr4AtcCs/99xxHuKR+Y/8dA9amdRb9xNVo5vRBHM/IgVuAtdSD8lngTaKT1W5e9iyB8Uo2MZQKGA87+wikqmhBQpN/USYSN+NKYHcE97RLoYrpDiwrtiskB2Bs08Cwx0KYWHLDrOSh/Q6NiWk3Y+pCVTWicV1Pr8UafXfxdvgWKRFKvLOpQFGIOQrb/ERAVqAwVOs2sMnOqpRQi3Wc6AnwF4A+kpzjTP4J7eb9exu8vuwtoJVOnBpIztV79ClUO6EfkZ7tD4r04cI2RcZPCgjvn7pZiDnAnF6lGAk0LVkZHpDr8+4zwUGMtEykl2jDW4bXgbzIygW3mO9tKq8CWJSzq41zc2v6VR0Ea7AhhowhpsRqhn3ErRxL+if/T66cU4i5W9tO9N80Z9o7SeQ0H6xcop2R0ciDHOukffuuilnDq6BO0uPZoTkVXfYg= # BS_ACCESS_KEY
