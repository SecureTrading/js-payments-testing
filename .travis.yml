language: java
# before_script:
#  - make run_wiremock &
#  - cd src/main/resources
#  - java -jar wiremock-standalone-2.21.0.jar -port 8760 -verbose
#  - cd $TRAVIS_BUILD_DIR
#  - git clone https://github.com/SecureTrading/js-payments
#  - cd js-payments
#  - git checkout develop
#  - npm install -g npm@latest
#  - npm install
#  - npm run prod
#  - npm run start &
#  - cd $TRAVIS_BUILD_DIR
jobs:
  include:
    - stage: "Test"
    - name: "Behavioural test: chrome 68"
      script:
        - make run_wiremock &
        - make test_chrome_68_w10
    - name: "Behavioural test: firefox 61"
      script:
        - make run_wiremock &
        - make test_firefox_61_w10
    - name: "Behavioural test: edge 17"
      script:
        - make run_wiremock &
        - make test_edge_17_w10
    - name: "Behavioural test: ie 9"
      script:
        - make run_wiremock &
        - make test_ie_9_w7
    - name: "Behavioural test: ie 10"
      script:
        - make run_wiremock &
        - make test_ie_10_w8
    - name: "Behavioural test: ie 11"
      script:
        - make run_wiremock &
        - make test_ie_11_w8
    - name: "Behavioural test: safari 11"
      script:
        - make run_wiremock &
        - make test_safari_11_osxhs
addons:
  browserstack:
    username: "javascriptpaymen1"
    access_key:
      secure: LS9Zh/tdjtFVnjKib90hR30YhJId+OGkTeOwDM0Bt7a8As7d6O3dyr+37ytFkA0nh4oaY3PZX6vV/FO1KyvlPDY2DC59PZvI6U0Io5odyNCf0Th+pXwRU1LyGQhPkRuDx5QIJZX6H7qfyxpc7+ZJs+QHXS8LReFK5zKat2LUs5gVE8tcHLBVWyU3wS8Nyvwrt3PjYnEPv70dAF53YYEscVGBRU9/pNyA9BWF/7BJL1fRjfYx5Vr4AtcCs/99xxHuKR+Y/8dA9amdRb9xNVo5vRBHM/IgVuAtdSD8lngTaKT1W5e9iyB8Uo2MZQKGA87+wikqmhBQpN/USYSN+NKYHcE97RLoYrpDiwrtiskB2Bs08Cwx0KYWHLDrOSh/Q6NiWk3Y+pCVTWicV1Pr8UafXfxdvgWKRFKvLOpQFGIOQrb/ERAVqAwVOs2sMnOqpRQi3Wc6AnwF4A+kpzjTP4J7eb9exu8vuwtoJVOnBpIztV79ClUO6EfkZ7tD4r04cI2RcZPCgjvn7pZiDnAnF6lGAk0LVkZHpDr8+4zwUGMtEykl2jDW4bXgbzIygW3mO9tKq8CWJSzq41zc2v6VR0Ea7AhhowhpsRqhn3ErRxL+if/T66cU4i5W9tO9N80Z9o7SeQ0H6xcop2R0ciDHOukffuuilnDq6BO0uPZoTkVXfYg=
